import{A as k,s as S,a as I,b as N}from"./AppLayout-d1333a90.js";import E from"./GraficaIngreso-688c277d.js";import{s as U,a as A,b as T,c as R}from"./datatable.esm-789c8773.js";import{s as B,a as G,b as j,c as L}from"./toolbar.esm-92c3a35d.js";import{a as F}from"./button.esm-256f0b79.js";import{a6 as b,f as x,b as o,w as d,a as s,F as z,y as n,o as y,m as V,j as C,t as Y,h as q}from"./app-1b8d8cba.js";import{s as H}from"./chart.esm-58fe6bc4.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";const K={components:{AppLayout:k,DataTable:U,Column:B,InputText:A,Row:G,Button:F,MultiSelect:j,Chart:H,Dialog:S,GraficaIngreso:E,Toast:I,ConfirmDialog:N,Toolbar:L,Dropdown:T,InputNumber:R},props:{maestrias:Array},setup(){},methods:{filtrarCarreras(){return["Negocios","Administración","Sistemas","Automotriz","Mecatrónica","Manufactura","Telemática"]},filtrarProcesos(){return["1er Proceso","2do Proceso","3er Proceso"]},filtrarFecha(){return["SEP-DIC"]},exportCSV(){this.$refs.dt.exportCSV()},limpiarFiltros(){this.filters.carrera.value=null,this.filters.Proceso.value=null,this.filters.fecha.value=null,this.$refs.dt.filter(this.filters,"carrera"),this.$refs.dt.filter(this.filters,"Proceso"),this.$refs.dt.filter(this.filters,"fecha")},openResponsive(){this.displayResponsive=!0},closeResponsive(){this.displayResponsive=!1},saveImage(){const p=document.getElementById("contenedorGrafica").getElementsByTagName("canvas")[0].toDataURL("image/png"),f=document.createElement("a");f.download="GraficaIngreso.png",f.href=p,f.click()},confirm1(){this.$confirm.require({message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.$toast.add({severity:"info",summary:"Confirmed",detail:"You have accepted",life:3e3})},reject:()=>{this.$toast.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})},openNew(){this.product={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},registrarMaestria(){if(this.submitted=!0,this.carreras==null||this.aspirantes==0||this.examinados==0||this.noAdmitidos==0||this.periodos==null)return this.$toast.add({severity:"error",summary:"Error",detail:"Todos los campos son obligatorios",life:3e3}),!1;{const r={carreras:this.carreras,aspirantes:this.aspirantes,examinados:this.examinados,noAdmitidos:this.noAdmitidos,periodos:this.periodos};this.$inertia.post("/registro-Maestria",r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.productDialog=!1,this.$toast.add({severity:"success",summary:"Exito",detail:"Registro exitoso",life:3e3})}})}},editarMaestria(){if(this.submitted=!0,this.product.id==0||this.product.carrera==null||this.product.aspirantes==0||this.product.examinados==0||this.product.no_admitidos==0||this.product.periodo==null)return this.$toast.add({severity:"error",summary:"Error",detail:"Todos los campos son obligatorios",life:3e3}),!1;{const r={id:this.product.id,carrera:this.product.carrera,aspirantes:this.product.aspirantes,examinados:this.product.examinados,no_admitidos:this.product.no_admitidos,periodo:this.product.periodo};this.$inertia.post(`/editar-Maestria/${this.product.id}`,r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.editDialog=!1,this.$toast.add({severity:"success",summary:"Exito",detail:"Actualizado exitosamente",life:3e3})}})}},editProduct(r){this.product={...r},this.editDialog=!0},confirmDeleteProduct(r){this.product=r,this.deleteProductDialog=!0},deleteProduct(){const r={id:this.product.id};this.$inertia.post(`/eliminar-Maestria/${this.product.id}`,r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Exito",detail:"Eliminado exitosamente",life:3e3})}})},deleteSelectedProducts(){const r={id:this.selectedProducts.map(e=>e.id)};this.$inertia.post("/eliminar-Maestrias",r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.deleteProductsDialog=!1,this.$toast.add({severity:"success",summary:"Exito",detail:"Eliminado exitosamente",life:3e3})}})},confirmDeleteSelected(){this.deleteProductsDialog=!0}},data(){return{filters:{carrera:{value:null,matchMode:b.IN},Proceso:{value:null,matchMode:b.IN},periodo:{value:null,matchMode:b.IN}},noDataMessage:"No se encontraron datos",displayResponsive:!1,carrerasLista:[{name:"Manufactura",code:"Manufactura"},{name:"Mecatronica",code:"Mecatronica"},{name:"Negocios",code:"Negocios"},{name:"Procesos",code:"Procesos"},{name:"Pymes",code:"Pymes"},{name:"Sistemas",code:"Sistemas"},{name:"Telematica",code:"Telematica"}],periodosLista:[{name:"SEP-DIC",code:"SEP-DIC"}],carreras:null,periodos:null,aspirantes:0,examinados:0,noAdmitidos:0,productDialog:!1,editDialog:!1,deleteProductDialog:!1,selectedProducts:null,deleteProductsDialog:!1}}},O={class:"field"},Q={class:"field col-12 md:col-3"},W=s("label",{for:"minmax"},"Aspirantes",-1),X={class:"field col-12 md:col-3"},Z=s("label",{for:"minmax"},"Examinados",-1),$={class:"field col-12 md:col-3"},ee=s("label",{for:"minmax"},"No Admitidos",-1),te={class:"field col-12 md:col-3 mt-3"},oe=s("span",null," Registrar ",-1),se=s("span",null,[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-6 w-6"},[s("path",{"fill-rule":"evenodd",d:"M16.72 7.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 010 1.06l-3.75 3.75a.75.75 0 11-1.06-1.06l2.47-2.47H3a.75.75 0 010-1.5h16.19l-2.47-2.47a.75.75 0 010-1.06z","clip-rule":"evenodd"})])],-1),ie={class:"bg-white",id:"tablaIngreso"},re={class:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8 p-[20px]"},le={class:"text-center mb-5"},ae={class:"flex gap-5 justify-center flex-wrap"},de={class:"w-full",id:"contenedorGrafica"},ne=s("div",{class:"flex justify-center align-middle text-xl"},[s("h2",null,"No se encontraron datos")],-1),ue={class:"p-fluid p-formgrid p-grid"},ce={class:"p-field p-col-12 p-md-6"},me=s("label",{for:"carrera"},"Carrera",-1),pe={class:"p-field p-col-12 p-md-6"},fe=s("label",{for:"aspirantes"},"Aspirantes",-1),he={class:"p-field p-col-12 p-md-6"},ve=s("label",{for:"examinados"},"Examinados",-1),be={class:"p-field p-col-12 p-md-6"},ge=s("label",{for:"no_admitidos"},"No Admitidos",-1),xe={class:"p-field p-col-12 p-md-6"},ye=s("label",{for:"periodo"},"Periodo",-1),Ve={class:"confirmation-content flex justify-center items-center"},Ce=s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),we={key:0},_e=s("div",{class:"confirmation-content flex items-center justify-center"},[s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),s("span",null," ¿Confirma eliminar los registros seleccionados? ")],-1);function De(r,e,p,f,i,l){const a=n("Button"),w=n("Toolbar"),g=n("Dropdown"),h=n("InputNumber"),m=n("Dialog"),_=n("Toast"),D=n("GraficaIngreso"),v=n("MultiSelect"),u=n("Column"),P=n("DataTable"),c=n("InputText");return y(),x(z,null,[o(w,{class:"mb-4"},{start:d(()=>[o(a,{label:"Nuevo Registro",icon:"pi pi-plus",class:"p-button-success !mr-4",onClick:l.openNew},null,8,["onClick"]),o(a,{label:"Eliminar",icon:"pi pi-trash",class:"p-button-danger",onClick:l.confirmDeleteSelected,disabled:!i.selectedProducts||!i.selectedProducts.length},null,8,["onClick","disabled"])]),_:1}),o(m,{visible:i.productDialog,"onUpdate:visible":e[6]||(e[6]=t=>i.productDialog=t),breakpoints:{"960px":"75vw","640px":"85vw"},style:{width:"25vw"},header:"Nuevo Registro",modal:!0,class:"p-fluid"},{default:d(()=>[s("div",O,[s("form",{onSubmit:e[5]||(e[5]=V((...t)=>l.registrarMaestria&&l.registrarMaestria(...t),["prevent"]))},[o(g,{modelValue:i.carreras,"onUpdate:modelValue":e[0]||(e[0]=t=>i.carreras=t),options:i.carrerasLista,optionLabel:"name",optionValue:"code",filter:!0,placeholder:"Carrera..."},null,8,["modelValue","options"]),s("div",Q,[W,o(h,{inputId:"minmax",modelValue:i.aspirantes,"onUpdate:modelValue":e[1]||(e[1]=t=>i.aspirantes=t),mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),s("div",X,[Z,o(h,{inputId:"minmax",modelValue:i.examinados,"onUpdate:modelValue":e[2]||(e[2]=t=>i.examinados=t),mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),s("div",$,[ee,o(h,{inputId:"minmax",modelValue:i.noAdmitidos,"onUpdate:modelValue":e[3]||(e[3]=t=>i.noAdmitidos=t),mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),s("div",te,[o(g,{modelValue:i.periodos,"onUpdate:modelValue":e[4]||(e[4]=t=>i.periodos=t),options:i.periodosLista,optionLabel:"name",optionValue:"code",placeholder:"Periodo"},null,8,["modelValue","options"])]),o(a,{type:"submit",id:"btnRegisrar",class:"flex items-center justify-center space-x-2 rounded-md border-2 border-blue-500 px-4 py-2 font-medium text-blue-600 transition hover:bg-blue-500 hover:text-white"},{default:d(()=>[oe,se]),_:1})],32)])]),_:1},8,["visible"]),s("section",ie,[s("div",re,[s("div",le,[s("div",ae,[s("div",null,[o(_)]),o(a,{label:"Grafica",icon:"pi pi-chart-bar",onClick:l.openResponsive},null,8,["onClick"]),o(m,{header:"Grafica",visible:i.displayResponsive,"onUpdate:visible":e[7]||(e[7]=t=>i.displayResponsive=t),breakpoints:{"960px":"75vw","75vw":"90vw"},style:{width:"70vw"}},{footer:d(()=>[o(a,{label:"Cerrar",icon:"pi pi-check",onClick:l.closeResponsive,autofocus:""},null,8,["onClick"]),o(a,{label:"Guardar",icon:"pi pi-save",onClick:l.saveImage},null,8,["onClick"])]),default:d(()=>[s("div",de,[o(D,{ingresos:p.maestrias},null,8,["ingresos"])])]),_:1},8,["visible"]),o(a,{icon:"pi pi-external-link",label:"Exportar Excel",onClick:e[8]||(e[8]=t=>l.exportCSV(t))}),o(v,{modelValue:i.filters.carrera.value,"onUpdate:modelValue":e[9]||(e[9]=t=>i.filters.carrera.value=t),options:l.filtrarCarreras(),placeholder:"Carrera",display:"chip"},null,8,["modelValue","options"]),o(v,{modelValue:i.filters.Proceso.value,"onUpdate:modelValue":e[10]||(e[10]=t=>i.filters.Proceso.value=t),options:l.filtrarProcesos(),placeholder:"Proceso",display:"chip"},null,8,["modelValue","options"]),o(v,{modelValue:i.filters.periodo.value,"onUpdate:modelValue":e[11]||(e[11]=t=>i.filters.periodo.value=t),options:l.filtrarFecha(),placeholder:"Fecha",display:"chip"},null,8,["modelValue","options"]),o(a,{icon:"pi pi-times",label:"Limpiar",onClick:e[12]||(e[12]=t=>l.limpiarFiltros())})])]),o(P,{value:p.maestrias,paginator:!0,class:"p-datatable-customers",rows:7,ref:"dt",filters:i.filters,"onUpdate:filters":e[13]||(e[13]=t=>i.filters=t),selection:i.selectedProducts,"onUpdate:selection":e[14]||(e[14]=t=>i.selectedProducts=t),emptyMessage:i.noDataMessage,stripedRows:"",sortMode:"multiple",removableSort:""},{empty:d(()=>[ne]),default:d(()=>[o(u,{selectionMode:"multiple",style:{width:"3rem"},exportable:!1}),o(u,{field:"id",header:"ID",sortable:!0,hidden:""}),o(u,{field:"carrera",header:"Carrera",sortable:!0}),o(u,{field:"aspirantes",header:"Aspirantes",sortable:!0}),o(u,{field:"examinados",header:"Examinados",sortable:!0}),o(u,{field:"no_admitidos",header:"No Admitidos",sortable:!0}),o(u,{field:"periodo",header:"Periodo",sortable:!0}),o(u,{exportable:!1,style:{"min-width":"8rem"},class:"p-6"},{body:d(t=>[o(a,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success !mr-2",onClick:M=>l.editProduct(t.data)},null,8,["onClick"]),o(a,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:M=>l.confirmDeleteProduct(t.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","selection","emptyMessage"]),o(m,{header:"Editar Maestria",visible:i.editDialog,"onUpdate:visible":e[22]||(e[22]=t=>i.editDialog=t),breakpoints:{"960px":"75vw","75vw":"85vw"},style:{width:"25vw"},modal:!0,closable:!0,dismissableMask:!1},{default:d(()=>[s("div",ue,[s("form",{onSubmit:e[21]||(e[21]=V((...t)=>l.editarMaestria&&l.editarMaestria(...t),["prevent"]))},[o(c,{id:"id",modelValue:r.product.id,"onUpdate:modelValue":e[15]||(e[15]=t=>r.product.id=t),modelModifiers:{trim:!0},hidden:""},null,8,["modelValue"]),s("div",ce,[me,o(c,{id:"name",modelValue:r.product.carrera,"onUpdate:modelValue":e[16]||(e[16]=t=>r.product.carrera=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),s("div",pe,[fe,o(c,{id:"name",modelValue:r.product.aspirantes,"onUpdate:modelValue":e[17]||(e[17]=t=>r.product.aspirantes=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),s("div",he,[ve,o(c,{inputId:"minmax",modelValue:r.product.examinados,"onUpdate:modelValue":e[18]||(e[18]=t=>r.product.examinados=t),modelModifiers:{trim:!0},mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),s("div",be,[ge,o(c,{inputId:"minmax",modelValue:r.product.no_admitidos,"onUpdate:modelValue":e[19]||(e[19]=t=>r.product.no_admitidos=t),modelModifiers:{trim:!0},mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),s("div",xe,[ye,o(c,{id:"name",modelValue:r.product.periodo,"onUpdate:modelValue":e[20]||(e[20]=t=>r.product.periodo=t),modelModifiers:{trim:!0},required:"true"},null,8,["modelValue"])]),o(a,{type:"submit",label:"Guardar",icon:"pi pi-check",class:"!mt-3"})],32)])]),_:1},8,["visible"]),o(m,{visible:i.deleteProductDialog,"onUpdate:visible":e[24]||(e[24]=t=>i.deleteProductDialog=t),style:{width:"450px"},header:"Confirmar",modal:!0},{footer:d(()=>[o(a,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:e[23]||(e[23]=t=>i.deleteProductDialog=!1)}),o(a,{label:"Si",icon:"pi pi-check",class:"p-button-text",onClick:l.deleteProduct},null,8,["onClick"])]),default:d(()=>[s("div",Ve,[Ce,r.product?(y(),x("span",we,[C("¿Confirma eliminar el registro "),s("b",null,Y(r.product.carrera),1),C("?")])):q("",!0)])]),_:1},8,["visible"]),o(m,{visible:i.deleteProductsDialog,"onUpdate:visible":e[26]||(e[26]=t=>i.deleteProductsDialog=t),style:{width:"550px"},header:"Confirm",modal:!0},{footer:d(()=>[o(a,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:e[25]||(e[25]=t=>i.deleteProductsDialog=!1)}),o(a,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:l.deleteSelectedProducts},null,8,["onClick"])]),default:d(()=>[_e]),_:1},8,["visible"])])])],64)}const Ae=J(K,[["render",De]]);export{Ae as default};
