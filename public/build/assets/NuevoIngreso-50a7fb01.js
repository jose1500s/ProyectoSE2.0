import{A as S,s as k,a as U,b as M}from"./AppLayout-d1333a90.js";import T from"./GraficaIngreso-688c277d.js";import{s as E,a as R,b as G,c as L}from"./datatable.esm-789c8773.js";import{s as B,a as F,b as j,c as A}from"./toolbar.esm-92c3a35d.js";import{a as z}from"./button.esm-256f0b79.js";import{a6 as b,f as I,b as s,w as n,a as t,F as Y,y as d,o as x,m as N,j as V,t as q,h as H}from"./app-1b8d8cba.js";import{s as J}from"./chart.esm-58fe6bc4.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";const O={components:{AppLayout:S,DataTable:E,Column:B,InputText:R,Row:F,Button:z,MultiSelect:j,Chart:J,Dialog:k,GraficaIngreso:T,Toast:U,ConfirmDialog:M,Toolbar:A,Dropdown:G,InputNumber:L},props:{ningresos:Array},setup(){},methods:{filtrarCarreras(){return["Negocios","Administración","Sistemas","Automotriz","Mecatrónica","Manufactura","Telemática"]},filtrarProcesos(){return["1er Proceso","2do Proceso","3er Proceso"]},filtrarFecha(){return["SEP-DIC"]},exportCSV(){this.$refs.dt.exportCSV()},limpiarFiltros(){this.filters.carrera.value=null,this.filters.Proceso.value=null,this.filters.fecha.value=null,this.$refs.dt.filter(this.filters,"carrera"),this.$refs.dt.filter(this.filters,"Proceso"),this.$refs.dt.filter(this.filters,"fecha")},openResponsive(){this.displayResponsive=!0},closeResponsive(){this.displayResponsive=!1},saveImage(){const m=document.getElementById("contenedorGrafica").getElementsByTagName("canvas")[0].toDataURL("image/png"),f=document.createElement("a");f.download="GraficaIngreso.png",f.href=m,f.click()},confirm1(){this.$confirm.require({message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.$toast.add({severity:"info",summary:"Confirmed",detail:"You have accepted",life:3e3})},reject:()=>{this.$toast.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})},openNew(){this.product={},this.submitted=!1,this.productDialog=!0},confirmDeleteSelected(){this.deleteProductsDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},registrarNIngreso(){if(this.submitted=!0,this.NIcarreras==null||this.totalIngresos==0||this.NIexaminados==0||this.NIsexo==null||this.NIgeneracion==0||this.NIadmitidos==0||this.NIinscritos==0||this.NIprocesos==null||this.NIperiodos==null)return this.$toast.add({severity:"error",summary:"Error",detail:"Todos los campos son obligatorios",life:3e3}),!1;{const l={carrera:this.NIcarreras,totalIngresos:this.totalIngresos,examinados:this.NIexaminados,sexo:this.NIsexo,generacion:this.NIgeneracion,admitidos:this.NIadmitidos,inscritos:this.NIinscritos,procesos:this.NIprocesos,periodos:this.NIperiodos};this.$inertia.post("/registro-NIngreso",l,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.productDialog=!1,this.$toast.add({severity:"success",summary:"Exito",detail:"Registro exitoso",life:3e3})}})}},editarNIngreso(){if(this.submitted=!0,this.product.id==null||this.product.carrera==null||this.product.total_ingresos==0||this.product.sexo==0||this.product.generacion==0||this.product.admitidos==0||this.product.inscritos==0||this.product.proceso==null||this.product.periodo==null)return this.$toast.add({severity:"error",summary:"Error",detail:"Todos los campos son obligatorios",life:3e3}),!1;{const l={id:this.product.id,carrera:this.product.carrera,totalIngresos:this.product.total_ingresos,examinados:this.product.examinados,sexo:this.product.sexo,generacion:this.product.generacion,admitidos:this.product.admitidos,inscritos:this.product.inscritos,procesos:this.product.proceso,periodos:this.product.periodo};this.$inertia.post(`/editar-NIngreso/${this.product.id}`,l,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.editDialog=!1,this.$toast.add({severity:"success",summary:"Exito",detail:"Editado exitosamente",life:3e3})}})}},editProduct(l){this.product={...l},this.editDialog=!0},confirmDeleteProduct(l){this.product=l,this.deleteProductDialog=!0},eliminarNIngreso(){const l={id:this.product.id};this.$inertia.post("/eliminar-NIngreso",l,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.deleteProductDialog=!1,this.$toast.add({severity:"success",summary:"Exito",detail:"Eliminado exitosamente",life:3e3})}})},deleteSelectedProducts(){const l={id:this.selectedProducts.map(e=>e.id)};this.$inertia.post("/eliminar-NIngresos",l,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.deleteProductsDialog=!1,this.selectedProducts=[],this.$toast.add({severity:"success",summary:"Exito",detail:"Eliminado exitosamente",life:3e3})}})},confirmDeleteSelected(){this.deleteProductsDialog=!0}},data(){return{filters:{carrera:{value:null,matchMode:b.IN},Proceso:{value:null,matchMode:b.IN},fecha:{value:null,matchMode:b.IN}},carrerasLista:[{name:"Manufactura",code:"Manufactura"},{name:"Mecatronica",code:"Mecatronica"},{name:"Negocios",code:"Negocios"},{name:"Procesos",code:"Procesos"},{name:"Pymes",code:"Pymes"},{name:"Sistemas",code:"Sistemas"},{name:"Telematica",code:"Telematica"}],sexoLista:[{name:"Masculino",code:"Masculino"},{name:"Femenino",code:"Femenino"}],periodosLista:[{name:"SEP-DIC",code:"SEP-DIC"}],procesosLista:[{name:"1er Proceso",code:"1er Proceso"},{name:"2do Proceso",code:"2do Proceso"},{name:"3er Proceso",code:"3er Proceso"}],noDataMessage:"No se encontraron datos",displayResponsive:!1,productDialog:!1,NIcarreras:null,totalIngresos:0,NIexaminados:0,NIsexo:null,NIgeneracion:null,NIadmitidos:0,NIinscritos:0,NIprocesos:null,NIperiodos:null,editDialog:!1,deleteProductDialog:!1,selectedProducts:null,deleteProductsDialog:!1}}},Q={class:"bg-white",id:"tablaIngreso"},W={class:"mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8 p-[20px]"},X={class:"text-center mb-5"},Z={class:"flex gap-5 justify-center flex-wrap"},$={class:"w-full",id:"contenedorGrafica"},ee=t("div",{class:"flex justify-center align-middle text-xl"},[t("h2",null,"No se encontraron datos")],-1),oe={class:"field"},se={class:"field col-12 md:col-3"},te=t("label",{for:"minmax"},"Total Ingresos",-1),ie={class:"field col-12 md:col-3"},le=t("label",{for:"minmax"},"Examinados",-1),re={class:"field col-12 md:col-3"},ae={class:"field col-12 md:col-3"},ne=t("label",{for:"minmax"},"Generacion",-1),de={class:"field col-12 md:col-3"},ce=t("label",{for:"minmax"},"Admitidos",-1),ue={class:"field col-12 md:col-3"},pe=t("label",{for:"minmax"},"Inscritos",-1),me={class:"field col-12 md:col-3"},fe=t("span",null," Registrar ",-1),ge=t("span",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-6 w-6"},[t("path",{"fill-rule":"evenodd",d:"M16.72 7.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 010 1.06l-3.75 3.75a.75.75 0 11-1.06-1.06l2.47-2.47H3a.75.75 0 010-1.5h16.19l-2.47-2.47a.75.75 0 010-1.06z","clip-rule":"evenodd"})])],-1),he=t("div",{class:"confirmation-content flex items-center justify-center"},[t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),t("span",null," ¿Confirma eliminar los registros seleccionados? ")],-1),ve={class:"p-fluid p-formgrid p-grid"},be={class:"p-field p-col-12 p-md-12"},Ie=t("label",{for:"carrera"},"Carrera",-1),xe={class:"p-field p-col-12 p-md-12"},Ne=t("label",{for:"total_ingresos"},"Total Ingresos",-1),Ve={class:"p-field p-col-12 p-md-12"},_e=t("label",{for:"total_ingresos"},"Sexo",-1),ye={class:"p-field p-col-12 p-md-12"},Pe=t("label",{for:"total_ingresos"},"Generacion",-1),Ce={class:"p-field p-col-12 p-md-12"},De=t("label",{for:"total_ingresos"},"Admitidos",-1),we={class:"p-field p-col-12 p-md-12"},Se=t("label",{for:"total_ingresos"},"Inscritos",-1),ke={class:"p-field p-col-12 p-md-12"},Ue=t("label",{for:"total_ingresos"},"Proceso",-1),Me={class:"p-field p-col-12 p-md-12"},Te=t("label",{for:"total_ingresos"},"Periodo",-1),Ee={class:"confirmation-content flex justify-center items-center"},Re=t("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Ge={key:0};function Le(l,e,m,f,i,r){const a=d("Button"),_=d("Toolbar"),y=d("Toast"),P=d("GraficaIngreso"),p=d("Dialog"),v=d("MultiSelect"),c=d("Column"),C=d("DataTable"),g=d("Dropdown"),u=d("InputNumber"),h=d("InputText"),D=d("inputText");return x(),I(Y,null,[s(_,{class:"mb-4"},{start:n(()=>[s(a,{label:"Nuevo Registro",icon:"pi pi-plus",class:"p-button-success !mr-2",onClick:r.openNew},null,8,["onClick"]),s(a,{label:"Eliminar",icon:"pi pi-trash",class:"p-button-danger",onClick:r.confirmDeleteSelected,disabled:!i.selectedProducts||!i.selectedProducts.length},null,8,["onClick","disabled"])]),_:1}),t("section",Q,[t("div",W,[t("div",X,[t("div",Z,[t("div",null,[s(y)]),s(a,{label:"Grafica",icon:"pi pi-chart-bar",onClick:r.openResponsive},null,8,["onClick"]),s(p,{header:"Grafica",visible:i.displayResponsive,"onUpdate:visible":e[0]||(e[0]=o=>i.displayResponsive=o),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"70vw"}},{footer:n(()=>[s(a,{label:"Cerrar",icon:"pi pi-check",onClick:r.closeResponsive,autofocus:""},null,8,["onClick"]),s(a,{label:"Guardar",icon:"pi pi-save",onClick:r.saveImage},null,8,["onClick"])]),default:n(()=>[t("div",$,[s(P,{ingresos:m.ningresos},null,8,["ingresos"])])]),_:1},8,["visible"]),s(a,{icon:"pi pi-external-link",label:"Exportar Excel",onClick:e[1]||(e[1]=o=>r.exportCSV(o))}),s(v,{modelValue:i.filters.carrera.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.filters.carrera.value=o),options:r.filtrarCarreras(),placeholder:"Carrera",display:"chip"},null,8,["modelValue","options"]),s(v,{modelValue:i.filters.Proceso.value,"onUpdate:modelValue":e[3]||(e[3]=o=>i.filters.Proceso.value=o),options:r.filtrarProcesos(),placeholder:"Proceso",display:"chip"},null,8,["modelValue","options"]),s(v,{modelValue:i.filters.fecha.value,"onUpdate:modelValue":e[4]||(e[4]=o=>i.filters.fecha.value=o),options:r.filtrarFecha(),placeholder:"Fecha",display:"chip"},null,8,["modelValue","options"]),s(a,{icon:"pi pi-times",label:"Limpiar",onClick:e[5]||(e[5]=o=>r.limpiarFiltros())})])]),s(C,{value:m.ningresos,paginator:!0,class:"p-datatable-customers",rows:7,ref:"dt",filters:i.filters,"onUpdate:filters":e[6]||(e[6]=o=>i.filters=o),selection:i.selectedProducts,"onUpdate:selection":e[7]||(e[7]=o=>i.selectedProducts=o),emptyMessage:i.noDataMessage,stripedRows:"",sortMode:"multiple",removableSort:""},{empty:n(()=>[ee]),default:n(()=>[s(c,{selectionMode:"multiple",style:{width:"3rem"},exportable:!1}),s(c,{field:"id",header:"ID",sortable:!0,hidden:""}),s(c,{field:"carrera",header:"Carrera",sortable:!0}),s(c,{field:"total_ingresos",header:"Total Ingresos",sortable:!0}),s(c,{field:"sexo",header:"Sexo",sortable:!0}),s(c,{field:"generacion",header:"Generacion",sortable:!0}),s(c,{field:"admitidos",header:"Admitidos",sortable:!0}),s(c,{field:"inscritos",header:"Inscritos",sortable:!0}),s(c,{field:"proceso",header:"Proceso",sortable:!0}),s(c,{field:"periodo",header:"Periodo",sortable:!0}),s(c,{exportable:!1,style:{"min-width":"8rem"},class:"p-6"},{body:n(o=>[s(a,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success !mr-2",onClick:w=>r.editProduct(o.data)},null,8,["onClick"]),s(a,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:w=>r.confirmDeleteProduct(o.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","selection","emptyMessage"]),s(p,{visible:i.productDialog,"onUpdate:visible":e[18]||(e[18]=o=>i.productDialog=o),breakpoints:{"960px":"75vw","640px":"85vw"},style:{width:"35vw"},header:"Nuevo Registro",modal:!0,class:"p-fluid"},{default:n(()=>[t("div",oe,[t("form",{onSubmit:e[17]||(e[17]=N((...o)=>r.registrarNIngreso&&r.registrarNIngreso(...o),["prevent"]))},[s(g,{modelValue:i.NIcarreras,"onUpdate:modelValue":e[8]||(e[8]=o=>i.NIcarreras=o),options:i.carrerasLista,optionLabel:"name",optionValue:"code",filter:!0,placeholder:"Carrera...",class:"!mt-3"},null,8,["modelValue","options"]),t("div",se,[te,s(u,{inputId:"minmax",modelValue:i.totalIngresos,"onUpdate:modelValue":e[9]||(e[9]=o=>i.totalIngresos=o),mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),t("div",ie,[le,s(u,{inputId:"minmax",modelValue:i.NIexaminados,"onUpdate:modelValue":e[10]||(e[10]=o=>i.NIexaminados=o),mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),t("div",re,[s(g,{modelValue:i.NIsexo,"onUpdate:modelValue":e[11]||(e[11]=o=>i.NIsexo=o),options:i.sexoLista,optionLabel:"name",optionValue:"code",placeholder:"Sexo",class:"!mt-3"},null,8,["modelValue","options"])]),t("div",ae,[ne,s(u,{inputId:"minmax",modelValue:i.NIgeneracion,"onUpdate:modelValue":e[12]||(e[12]=o=>i.NIgeneracion=o),min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),t("div",de,[ce,s(u,{inputId:"minmax",modelValue:i.NIadmitidos,"onUpdate:modelValue":e[13]||(e[13]=o=>i.NIadmitidos=o),mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),t("div",ue,[pe,s(u,{inputId:"minmax",modelValue:i.NIinscritos,"onUpdate:modelValue":e[14]||(e[14]=o=>i.NIinscritos=o),mode:"decimal",min:0,max:1e4,showButtons:!0},null,8,["modelValue"])]),s(g,{modelValue:i.NIprocesos,"onUpdate:modelValue":e[15]||(e[15]=o=>i.NIprocesos=o),options:i.procesosLista,optionLabel:"name",optionValue:"code",placeholder:"Proceso",class:"!mt-3"},null,8,["modelValue","options"]),t("div",me,[s(g,{modelValue:i.NIperiodos,"onUpdate:modelValue":e[16]||(e[16]=o=>i.NIperiodos=o),options:i.periodosLista,optionLabel:"name",optionValue:"code",class:"!mt-3",placeholder:"Periodo"},null,8,["modelValue","options"])]),s(a,{type:"submit",id:"btnRegisrar",class:"flex items-center justify-center space-x-2 rounded-md border-2 border-blue-500 px-4 py-2 font-medium text-blue-600 transition hover:bg-blue-500 hover:text-white"},{default:n(()=>[fe,ge]),_:1})],32)])]),_:1},8,["visible"]),s(p,{visible:i.deleteProductsDialog,"onUpdate:visible":e[20]||(e[20]=o=>i.deleteProductsDialog=o),style:{width:"550px"},header:"Confirm",modal:!0},{footer:n(()=>[s(a,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:e[19]||(e[19]=o=>i.deleteProductsDialog=!1)}),s(a,{label:"Si",icon:"pi pi-check",class:"p-button-text",onClick:r.deleteSelectedProducts},null,8,["onClick"])]),default:n(()=>[he]),_:1},8,["visible"]),s(p,{header:"Editar Nuevo Ingreso",visible:i.editDialog,"onUpdate:visible":e[31]||(e[31]=o=>i.editDialog=o),breakpoints:{"960px":"75vw","75vw":"85vw"},style:{width:"25vw"},modal:!0,closable:!0,dismissableMask:!1},{default:n(()=>[t("div",ve,[t("form",{onSubmit:e[30]||(e[30]=N((...o)=>r.editarNIngreso&&r.editarNIngreso(...o),["prevent"]))},[s(h,{id:"id",modelValue:l.product.id,"onUpdate:modelValue":e[21]||(e[21]=o=>l.product.id=o),hidden:""},null,8,["modelValue"]),t("div",be,[Ie,s(h,{id:"carrera",modelValue:l.product.carrera,"onUpdate:modelValue":e[22]||(e[22]=o=>l.product.carrera=o)},null,8,["modelValue"])]),t("div",xe,[Ne,s(u,{id:"total_ingresos",modelValue:l.product.total_ingresos,"onUpdate:modelValue":e[23]||(e[23]=o=>l.product.total_ingresos=o)},null,8,["modelValue"])]),t("div",Ve,[_e,s(D,{id:"total_ingresos",modelValue:l.product.sexo,"onUpdate:modelValue":e[24]||(e[24]=o=>l.product.sexo=o)},null,8,["modelValue"])]),t("div",ye,[Pe,s(u,{id:"total_ingresos",modelValue:l.product.generacion,"onUpdate:modelValue":e[25]||(e[25]=o=>l.product.generacion=o)},null,8,["modelValue"])]),t("div",Ce,[De,s(u,{id:"total_ingresos",modelValue:l.product.admitidos,"onUpdate:modelValue":e[26]||(e[26]=o=>l.product.admitidos=o)},null,8,["modelValue"])]),t("div",we,[Se,s(u,{id:"total_ingresos",modelValue:l.product.inscritos,"onUpdate:modelValue":e[27]||(e[27]=o=>l.product.inscritos=o)},null,8,["modelValue"])]),t("div",ke,[Ue,s(h,{id:"total_ingresos",modelValue:l.product.proceso,"onUpdate:modelValue":e[28]||(e[28]=o=>l.product.proceso=o)},null,8,["modelValue"])]),t("div",Me,[Te,s(h,{id:"total_ingresos",modelValue:l.product.periodo,"onUpdate:modelValue":e[29]||(e[29]=o=>l.product.periodo=o)},null,8,["modelValue"])]),s(a,{type:"submit",label:"Guardar",icon:"pi pi-check",class:"!mt-3"})],32)])]),_:1},8,["visible"]),s(p,{visible:i.deleteProductDialog,"onUpdate:visible":e[33]||(e[33]=o=>i.deleteProductDialog=o),style:{width:"450px"},header:"Confirmar",modal:!0},{footer:n(()=>[s(a,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:e[32]||(e[32]=o=>i.deleteProductDialog=!1)}),s(a,{label:"Si",icon:"pi pi-check",class:"p-button-text",onClick:r.eliminarNIngreso},null,8,["onClick"])]),default:n(()=>[t("div",Ee,[Re,l.product?(x(),I("span",Ge,[V("¿Confirma eliminar el registro "),t("b",null,q(l.product.carrera),1),V("?")])):H("",!0)])]),_:1},8,["visible"])])])],64)}const Je=K(O,[["render",Le]]);export{Je as default};
