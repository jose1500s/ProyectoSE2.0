{
  "version": 3,
  "sources": ["../../primevue/focustrap/focustrap.esm.js"],
  "sourcesContent": ["import { DomHandler, ObjectUtils } from 'primevue/utils';\r\n\r\nfunction bind(el, binding) {\r\n    const { onFocusIn, onFocusOut } = binding.value || {};\r\n\r\n    el.$_pfocustrap_mutationobserver = new MutationObserver((mutationList) => {\r\n        mutationList.forEach((mutation) => {\r\n            if (mutation.type === 'childList' && !el.contains(document.activeElement)) {\r\n                const findNextFocusableElement = (el) => {\r\n                    const focusableElement = DomHandler.isFocusableElement(el) ? el : DomHandler.getFirstFocusableElement(el);\r\n\r\n                    return ObjectUtils.isNotEmpty(focusableElement) ? focusableElement : findNextFocusableElement(el.nextSibling);\r\n                };\r\n\r\n                DomHandler.focus(findNextFocusableElement(mutation.nextSibling));\r\n            }\r\n        });\r\n    });\r\n\r\n    el.$_pfocustrap_mutationobserver.disconnect();\r\n    el.$_pfocustrap_mutationobserver.observe(el, {\r\n        childList: true\r\n    });\r\n\r\n    el.$_pfocustrap_focusinlistener = (event) => onFocusIn && onFocusIn(event);\r\n    el.$_pfocustrap_focusoutlistener = (event) => onFocusOut && onFocusOut(event);\r\n\r\n    el.addEventListener('focusin', el.$_pfocustrap_focusinlistener);\r\n    el.addEventListener('focusout', el.$_pfocustrap_focusoutlistener);\r\n}\r\n\r\nfunction unbind(el) {\r\n    el.$_pfocustrap_mutationobserver && el.$_pfocustrap_mutationobserver.disconnect();\r\n    el.$_pfocustrap_focusinlistener && el.removeEventListener('focusin', el.$_pfocustrap_focusinlistener) && (el.$_pfocustrap_focusinlistener = null);\r\n    el.$_pfocustrap_focusoutlistener && el.removeEventListener('focusout', el.$_pfocustrap_focusoutlistener) && (el.$_pfocustrap_focusoutlistener = null);\r\n}\r\n\r\nfunction autoFocus(el, binding) {\r\n    const { autoFocusSelector = '', firstFocusableSelector = '', autoFocus = false } = binding.value || {};\r\n    let focusableElement = DomHandler.getFirstFocusableElement(el, `[autofocus]:not(.p-hidden-focusable)${autoFocusSelector}`);\r\n\r\n    autoFocus && !focusableElement && (focusableElement = DomHandler.getFirstFocusableElement(el, `:not(.p-hidden-focusable)${firstFocusableSelector}`));\r\n    DomHandler.focus(focusableElement);\r\n}\r\n\r\nfunction onFirstHiddenElementFocus(event) {\r\n    const { currentTarget, relatedTarget } = event;\r\n    const focusableElement =\r\n        relatedTarget === currentTarget.$_pfocustrap_lasthiddenfocusableelement\r\n            ? DomHandler.getFirstFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`)\r\n            : currentTarget.$_pfocustrap_lasthiddenfocusableelement;\r\n\r\n    DomHandler.focus(focusableElement);\r\n}\r\n\r\nfunction onLastHiddenElementFocus(event) {\r\n    const { currentTarget, relatedTarget } = event;\r\n    const focusableElement =\r\n        relatedTarget === currentTarget.$_pfocustrap_firsthiddenfocusableelement\r\n            ? DomHandler.getLastFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`)\r\n            : currentTarget.$_pfocustrap_firsthiddenfocusableelement;\r\n\r\n    DomHandler.focus(focusableElement);\r\n}\r\n\r\nfunction createHiddenFocusableElements(el, binding) {\r\n    const { tabIndex = 0, firstFocusableSelector = '', lastFocusableSelector = '' } = binding.value || {};\r\n\r\n    const createFocusableElement = (onFocus) => {\r\n        const element = document.createElement('span');\r\n\r\n        element.classList = 'p-hidden-accessible p-hidden-focusable';\r\n        element.tabIndex = tabIndex;\r\n        element.setAttribute('aria-hidden', 'true');\r\n        element.setAttribute('role', 'presentation');\r\n        element.addEventListener('focus', onFocus);\r\n\r\n        return element;\r\n    };\r\n\r\n    const firstFocusableElement = createFocusableElement(onFirstHiddenElementFocus);\r\n    const lastFocusableElement = createFocusableElement(onLastHiddenElementFocus);\r\n\r\n    firstFocusableElement.$_pfocustrap_lasthiddenfocusableelement = lastFocusableElement;\r\n    firstFocusableElement.$_pfocustrap_focusableselector = firstFocusableSelector;\r\n\r\n    lastFocusableElement.$_pfocustrap_firsthiddenfocusableelement = firstFocusableElement;\r\n    lastFocusableElement.$_pfocustrap_focusableselector = lastFocusableSelector;\r\n\r\n    el.prepend(firstFocusableElement);\r\n    el.append(lastFocusableElement);\r\n}\r\n\r\nconst FocusTrap = {\r\n    mounted(el, binding) {\r\n        const { disabled } = binding.value || {};\r\n\r\n        if (!disabled) {\r\n            createHiddenFocusableElements(el, binding);\r\n            bind(el, binding);\r\n            autoFocus(el, binding);\r\n        }\r\n    },\r\n    updated(el, binding) {\r\n        const { disabled } = binding.value || {};\r\n\r\n        disabled && unbind(el);\r\n    },\r\n    unmounted(el) {\r\n        unbind(el);\r\n    }\r\n};\r\n\r\nexport { FocusTrap as default };\r\n"],
  "mappings": "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",
  "names": ["el", "autoFocus"]
}
